webpackJsonp([4],{NA71:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("4+Dy"),s=o("oKbl"),i={name:"pullUpBox",data:function(){return{refreshTxt:"下拉刷新",isLoadMore:!1,inTop:!1,touchH:0,moveStart:0,movingH:0,pullDownStyle:""}},props:{data:{type:Array,default:[]},pulldown:{type:Boolean,default:!1}},watch:{data:function(){this.initScroll(),this.isLoadMore=!1}},created:function(){},methods:{initScroll:function(){window.removeEventListener("scroll",this.scrollFn),window.addEventListener("scroll",this.scrollFn),this.pulldown&&(window.addEventListener("touchstart",this.touchStartFn),window.addEventListener("touchmove",this.touchMoveFn),window.addEventListener("touchend",this.touchEndFn))},scrollFn:function(t){if(!(this.isLoadMore||this.data.length<1)){document.body||document.documentElement;var e=document.body.scrollTop||document.documentElement.scrollTop;e>Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-window.innerHeight-200&&(console.log("more"),this.isLoadMore=!0,this.$emit("loadMore",!0)),this.pulldown&&e<=0?(console.log("touchH=0"),this.inTop=!0):this.pulldown&&(this.inTop=!1,this.pullDownStyle="")}},touchStartFn:function(t){(document.body.scrollTop||document.documentElement.scrollTop)<=0?(this.moveStart=t.touches[0].pageY,this.inTop=!0):(this.inTop=!1,this.moveStart=0)},touchMoveFn:function(t){this.inTop?(this.movingH=t.touches[0].pageY,this.touchH=this.movingH-this.moveStart<=0?0:this.movingH-this.moveStart>=40?40:this.movingH-this.moveStart,this.touchH>30?this.refreshTxt="松开刷新":this.refreshTxt="下拉刷新",this.pullDownStyle="-webkit-transform:translate3d(0,"+this.touchH+"px,0);\n                                      transform:translate3d(0,"+this.touchH+"px,0);"):this.moveStart=t.touches[0].pageY},touchEndFn:function(){console.log(this.touchH),this.inTop&&(this.pullDownStyle="-webkit-transform:translate3d(0,0,0);\n                                      transform:translate3d(0,0,0);\n                                      -webkit-transition:all "+this.touchH/300+"s ease-in-out;\n                                      transition:all "+this.touchH/300+"s ease-in-out;",this.touchH>30&&setTimeout(function(){location.reload()},300)),this.touchH=0}},mounted:function(){this.initScroll()},activated:function(){this.initScroll()},deactivated:function(){window.removeEventListener("scroll",this.scrollFn),window.removeEventListener("touchstart",this.touchStartFn),window.removeEventListener("touchmove",this.touchMoveFn),window.removeEventListener("touchend",this.touchEndFn)}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["pullUpBox",t.pulldown?"hasPulldown":""],style:t.pullDownStyle,attrs:{id:"pullUpBox"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.pulldown,expression:"pulldown"}],staticClass:"refresh-txt"},[t._v(t._s(t.refreshTxt))]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var l={name:"detail",data:function(){return{msgTxt:"",list:[],page:0,nextPage:1}},components:{pullUpBox:o("C7Lr")(i,a,!1,function(t){o("w9eP")},"data-v-97ce6330",null).exports,msgBox:n.a},created:function(){this.loadData()},methods:{loadData:function(){var t=this;if(0!=this.nextPage){var e={offset:20*this.page,rows:20,app_resource:0};this.$http.get(s.a,{params:e}).then(function(e){1==e.data.result?(t.list=t.list.concat(e.data.data),e.data.data&&e.data.data.length?t.page++:t.nextPage=0):t.msgTxt=e.data.message})}},init:function(){var t=this;this.$http.get(s.b,{params:{app_resource:0}}).then(function(e){if(1==e.data.result){var o=e.data.data;o.is_qq_user?(t.userType=1,t.red_packet_balance=o.red_packet_balance,t.uname=o.uname):t.userType=3}else t.msgTxt=e.data.message}).catch(function(t){console.log("error"),console.log(t)})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"detailPage"},[o("pullUpBox",{staticClass:"wrapper",attrs:{data:t.list},on:{loadMore:t.loadData}},[o("div",{staticClass:"title"},[t._v("QQ运动红包有效期为60天，过期系统自动回收")]),t._v(" "),o("ul",{staticClass:"list"},t._l(t.list,function(e){return o("li",{staticClass:"li"},[o("div",[o("p",{staticClass:"name"},[0==e.modify_type?[t._v("\n                            QQ运动达标红包\n                        ")]:t._e(),t._v(" "),1==e.modify_type?[t._v("\n                            QQ运动红包提现\n                        ")]:t._e(),t._v(" "),2==e.modify_type?[t._v("\n                            QQ运动红包过期\n                        ")]:t._e()],2),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.modify_time))])]),t._v(" "),o("div",{staticClass:"amount"},[t._v("\n                    "+t._s(e.amount/100)+"元\n                ")])])}),0),t._v(" "),o("msgBox",{attrs:{msgTxt:t.msgTxt}})],1)],1)},staticRenderFns:[]};var c=o("C7Lr")(l,r,!1,function(t){o("sIzB")},"data-v-4a12d986",null);e.default=c.exports},sIzB:function(t,e){},w9eP:function(t,e){}});